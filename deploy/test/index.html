<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="https://amboltio.github.io/emily-intro/">
    <meta name="generator" content="Hugo 0.68.3" />
    <meta name="description" content="">


    <link rel="icon" href="/emily-intro/images/favicon.png" type="image/png">

    <title>API test :: Emily</title>

    
    <link href="/emily-intro/css/nucleus.css?1635154267" rel="stylesheet">
    <link href="/emily-intro/css/fontawesome-all.min.css?1635154267" rel="stylesheet">
    <link href="/emily-intro/css/hybrid.css?1635154267" rel="stylesheet">
    <link href="/emily-intro/css/featherlight.min.css?1635154267" rel="stylesheet">
    <link href="/emily-intro/css/perfect-scrollbar.min.css?1635154267" rel="stylesheet">
    <link href="/emily-intro/css/auto-complete.css?1635154267" rel="stylesheet">
    <link href="/emily-intro/css/atom-one-dark-reasonable.css?1635154267" rel="stylesheet">
    <link href="/emily-intro/css/theme.css?1635154267" rel="stylesheet">
    <link href="/emily-intro/css/tabs.css?1635154267" rel="stylesheet">
    <link href="/emily-intro/css/hugo-theme.css?1635154267" rel="stylesheet">
    
    

    <script src="/emily-intro/js/jquery-3.3.1.min.js?1635154267"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/emily-intro/deploy/test/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href='https://dmiai.dk/en/'>
<img src="/emily-intro/images/logo.svg">
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/emily-intro/js/lunr.min.js?1635154267"></script>
<script type="text/javascript" src="/emily-intro/js/auto-complete.js?1635154267"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/amboltio.github.io\/emily-intro\/";
    
</script>
<script type="text/javascript" src="/emily-intro/js/search.js?1635154267"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/emily-intro/emily-intro/" title="Getting started with Emily" class="dd-item
        
        
        
        ">
      <a href="/emily-intro/emily-intro/">
          <b>1. </b>Getting started with Emily
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/emily-intro/install/" title="Install Emily" class="dd-item ">
        <a href="/emily-intro/emily-intro/install/">
        Install Emily
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/emily-intro/build/" title="Create Emily project" class="dd-item ">
        <a href="/emily-intro/emily-intro/build/">
        Create Emily project
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/emily-intro/emily-intro/structure/" title="Template structure" class="dd-item
        
        
        
        ">
      <a href="/emily-intro/emily-intro/structure/">
          Template structure
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/emily-intro/structure/api/" title="API" class="dd-item ">
        <a href="/emily-intro/emily-intro/structure/api/">
        API
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/emily-intro/structure/emily/" title="Emily" class="dd-item ">
        <a href="/emily-intro/emily-intro/structure/emily/">
        Emily
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/emily-intro/structure/model/" title="Model" class="dd-item ">
        <a href="/emily-intro/emily-intro/structure/model/">
        Model
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/emily-intro/structure/trainer/" title="Trainer" class="dd-item ">
        <a href="/emily-intro/emily-intro/structure/trainer/">
        Trainer
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/emily-intro/structure/evaluator/" title="Evaluator" class="dd-item ">
        <a href="/emily-intro/emily-intro/structure/evaluator/">
        Evaluator
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/emily-intro/structure/predictor/" title="Predictor" class="dd-item ">
        <a href="/emily-intro/emily-intro/structure/predictor/">
        Predictor
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/emily-intro/share/" title="Share Emily projects" class="dd-item ">
        <a href="/emily-intro/emily-intro/share/">
        Share Emily projects
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/emily-intro/deploy/" title="Deploying a service" class="dd-item
        parent
        
        
        ">
      <a href="/emily-intro/deploy/">
          <b>2. </b>Deploying a service
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/emily-intro/deploy/structure/" title="Converting a notebook to API" class="dd-item
        
        
        
        ">
      <a href="/emily-intro/deploy/structure/">
          Converting a notebook to API
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/deploy/structure/api/" title="API" class="dd-item ">
        <a href="/emily-intro/deploy/structure/api/">
        API
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/deploy/structure/model/" title="Model" class="dd-item ">
        <a href="/emily-intro/deploy/structure/model/">
        Model
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/deploy/structure/train/" title="Training" class="dd-item ">
        <a href="/emily-intro/deploy/structure/train/">
        Training
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/deploy/structure/eval/" title="Evaluating" class="dd-item ">
        <a href="/emily-intro/deploy/structure/eval/">
        Evaluating
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/deploy/structure/predict/" title="Predicting" class="dd-item ">
        <a href="/emily-intro/deploy/structure/predict/">
        Predicting
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/deploy/test/" title="API test" class="dd-item active">
        <a href="/emily-intro/deploy/test/">
        API test
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/emily-intro/deploy/deploy/" title="Deploy" class="dd-item ">
        <a href="/emily-intro/deploy/deploy/">
        Deploy
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/emily-intro/'></a> > <a href='/emily-intro/deploy/'>Deploying a service</a> > API test
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents"></nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              API test
            </h1>
          

        



<div style="position: relative; padding-bottom: 50%; height: 0;">
    
    
    <iframe src="https://panopto.aau.dk/Panopto/Pages/Embed.aspx?id=f1ad2f13-535b-44ce-803b-adc0009faea4&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all"
    frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen 
    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">

</iframe>

</div>

<p>Once you have set up your API, it is time to test that it actually works. There are multiple ways to do this, and you will see here three different tools for testing your API:</p>
<ul>
<li>Swagger UI</li>
<li>Postman</li>
<li>curl</li>
</ul>
<p>First of all, you should run your API. In an emily project, you can do this by running the API script with <code>python api.py</code> inside the container. We will assume that you are running your API on <code>http://localhost:4242</code>. Adjust accordingly if you are using a different host or port.</p>
<p><strong>Note</strong>: The evaluate and predict endpoints in an Emily project usually requires a model to already have been trained through the train endpoint, so you should start by running the train endpoint.</p>


<div class="tab-panel">
    <div class="tab-nav">
    
        <button
          data-tab-item="Swagger UI"
          data-tab-group="default"
          class="tab-nav-button btn active"
          onclick="switchTab('default','Swagger UI')"
         >Swagger UI</button>
    
        <button
          data-tab-item="Postman"
          data-tab-group="default"
          class="tab-nav-button btn "
          onclick="switchTab('default','Postman')"
         >Postman</button>
    
        <button
          data-tab-item="curl"
          data-tab-group="default"
          class="tab-nav-button btn "
          onclick="switchTab('default','curl')"
         >curl</button>
    
    </div>
    <div class="tab-content">
        
        <div data-tab-item="Swagger UI" data-tab-group="default" class="tab-item active">
            

Emily projects use FastAPI, which automatically supports Swagger UI. This gives you automatic documentation of your API, as well as a graphical interface for testing the API. To access Swagger UI, go to <a href="http://localhost:4242/docs", target="_blank">http://localhost:4242/docs</a> in your browser, where you will see something similar to the below image.

<img src="/emily-intro/images/swaggerui/swaggerui.png", alt="Swagger UI">

To test e.g. the evaluate endpoint, click its bar. It will then unfold, giving you a lot of information about the endpoint, such as the format of a request to the endpoint and the possible responses it can give. In order to test it, click the "Try it out" button.

<img src="/emily-intro/images/swaggerui/tryit.png", alt="Try it out button">

Now you will be able to edit the request body before sending the request. Make appropriate changes, such as changing the path to the model being evaluated, and click the "Execute" button below the text field.

<img src="/emily-intro/images/swaggerui/execute.png", alt="Execute button">

You will then get the result of the endpoint in a section below. In this case, the result is an evaluation score for the specified model.

<img src="/emily-intro/images/swaggerui/result.png", alt="Result being displayed">


        </div>
        
        <div data-tab-item="Postman" data-tab-group="default" class="tab-item ">
            

Postman is a standalone app that can be downloaded <a href="https://www.postman.com/downloads/", target="_blank">here</a>. Start Postman and create a new request. Choose a POST request, and enter <code>http://localhost:4242</code> as the request URL.

<img src="/emily-intro/images/postman/request.png", alt="Making a new request">

Next we need to specify the body of the request. To do this, press the "Body" button below the URL field and choose the "raw" option below it. This allows you to specify the request body in JSON format in the text field below. For example, to specify the model path, enter
<code>{
    "model_path": "myModel.save"
}</code>

<img src="/emily-intro/images/postman/body.png", alt="Making a new request">

Now you can simply press the "Send" button, and the request will be sent to the API and a response will be shown at the bottom of the window. In this case the response is an evaluation score for the specified model.

<img src="/emily-intro/images/postman/response.png", alt="Response from the API">


        </div>
        
        <div data-tab-item="curl" data-tab-group="default" class="tab-item ">
            

curl is a command-line tool that can be downloaded <a href="https://curl.se/download.html", target="_blank">here</a>. Once you have installed curl, you can invoke it from the terminal by simply typing <code>curl</code>.

The template for making an API request with curl is<br/>

<code>curl --header "Content-Type: application/json" --request POST --data '&lt;JSON data&gt;' &lt;URL&gt;</code><br/>

For example, to call the evaluate endpoint with a specific model, you can use<br/>

<code>curl --header "Content-Type: application/json" --request POST --data '{"model_path":"myModel.save"}' http://0.0.0.0:4242/api/evaluate</code>



        </div>
        
    </div>
</div>



<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/emily-intro/deploy/structure/predict/" title="Predicting"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/emily-intro/deploy/deploy/" title="Deploy" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/emily-intro/js/clipboard.min.js?1635154267"></script>
    <script src="/emily-intro/js/perfect-scrollbar.min.js?1635154267"></script>
    <script src="/emily-intro/js/perfect-scrollbar.jquery.min.js?1635154267"></script>
    <script src="/emily-intro/js/jquery.sticky.js?1635154267"></script>
    <script src="/emily-intro/js/featherlight.min.js?1635154267"></script>
    <script src="/emily-intro/js/highlight.pack.js?1635154267"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/emily-intro/js/modernizr.custom-3.6.0.js?1635154267"></script>
    <script src="/emily-intro/js/learn.js?1635154267"></script>
    <script src="/emily-intro/js/hugo-learn.js?1635154267"></script>
    
        
            <script src="/emily-intro/mermaid/mermaid.js?1635154267"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

